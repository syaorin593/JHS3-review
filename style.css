/* 全体設定 */
body {
    margin: 0;
    font-family: "Helvetica Neue", Arial, sans-serif;
    background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
    color: #333;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
}
#game-app {
    width: 100%;
    max-width: 480px;
    background: rgba(255, 255, 255, 0.95);
    border-radius: 15px;
    box-shadow: 0 15px 35px rgba(0,0,0,0.3);
    overflow: hidden;
    position: relative;
    padding: 25px;
    text-align: center;
}
.screen { animation: fadeIn 0.4s ease; }
.hidden { display: none !important; }

/* テキスト系 */
.main-title { color: #1e3c72; font-size: 2rem; font-weight: 800; margin: 10px 0; }
.sub-title { color: #666; font-size: 0.9rem; margin-bottom: 20px; font-weight: bold; }
.sub-text { color: #e74c3c; font-weight: bold; font-size: 0.9rem; margin-top: 8px; }

/* ボタン・スコア */
.score-board { background: #eee; padding: 10px; border-radius: 8px; margin-bottom: 20px; font-weight: bold; }
.btn-start { background: #ff7675; color: white; font-size: 1.3rem; font-weight: bold; padding: 15px 0; border: none; border-radius: 50px; cursor: pointer; box-shadow: 0 5px 0 #d63031; width: 100%; }
.btn-start:active { transform: translateY(3px); box-shadow: none; }

/* ★追加：戻るボタンのデザイン（控えめなグレー） */
.btn-back {
    background: transparent;
    border: 1px solid #b2bec3;
    color: #636e72;
    padding: 10px 20px;
    border-radius: 20px;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.2s;
}
.btn-back:hover { background: #dfe6e9; color: #2d3436; }

.game-header { display: flex; justify-content: space-between; font-weight: bold; color: #1e3c72; margin-bottom: 15px; }
.progress-bar { width: 100%; height: 8px; background: #dfe6e9; border-radius: 4px; margin-bottom: 20px; }
#progress-fill { height: 100%; width: 0%; background: #00b894; transition: width 0.3s; }

.question-box {
    margin-bottom: 20px; position: relative; border: 2px solid #1e3c72;
    padding: 25px 15px; border-radius: 12px; background: #fff;
}
.category-badge {
    position: absolute; top: -14px; left: 50%; transform: translateX(-50%);
    background: #1e3c72; color: white; padding: 5px 15px; border-radius: 20px; font-size: 0.8rem; font-weight: bold;
}
#q-text { font-size: 1.2rem; font-weight: bold; margin: 0; line-height: 1.4; }

/* 出題エリア */
.choices-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.btn-choice {
    background: white; border: 2px solid #b2bec3; padding: 15px;
    border-radius: 8px; font-size: 1rem; font-weight: bold; cursor: pointer;
}
.btn-choice:hover { background: #e3f2fd; border-color: #1e3c72; }

#sort-answer-box {
    min-height: 50px; border-bottom: 2px solid #1e3c72; margin-bottom: 15px;
    display: flex; flex-wrap: wrap; justify-content: center; gap: 5px; padding: 5px;
}
#sort-pool-box {
    display: flex; flex-wrap: wrap; justify-content: center; gap: 8px; margin-bottom: 15px;
}
.sort-word {
    background: #0984e3; color: white; padding: 8px 12px; border-radius: 6px;
    font-size: 0.95rem; cursor: pointer; user-select: none;
}
.sort-controls { display: flex; gap: 10px; justify-content: center; }

#type-input {
    width: 80%; padding: 10px; font-size: 1.2rem; text-align: center;
    border: 2px solid #b2bec3; border-radius: 8px; margin-bottom: 15px;
}
.btn-submit { background: #00b894; color: white; border: none; padding: 10px 30px; border-radius: 20px; font-size: 1rem; font-weight: bold; cursor: pointer; }
.btn-small { background: #636e72; color: white; border: none; padding: 8px 20px; border-radius: 20px; font-size: 0.9rem; cursor: pointer; }

/* 解説・結果 */
#feedback-area {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(255,255,255,0.98); display: flex; flex-direction: column;
    justify-content: center; align-items: center; border-radius: 15px; z-index: 100;
}
.feedback-content { width: 90%; text-align: center; }
#feedback-title { font-size: 2.5rem; margin: 0 0 15px 0; }
#feedback-detail { font-size: 1.1rem; line-height: 1.6; color: #2d3436; background: #f1f2f6; padding: 15px; border-radius: 10px; text-align: left;}
.correct { color: #00b894; } .wrong { color: #d63031; }
.btn-next { background: #1e3c72; color: white; padding: 12px 40px; border: none; border-radius: 30px; font-size: 1rem; margin-top: 25px; cursor: pointer; }

.result-score { font-size: 3rem; font-weight: bold; color: #e17055; }
.btn-retry { background: #00b894; color: white; padding: 15px 40px; border: none; border-radius: 30px; font-size: 1.1rem; font-weight: bold; cursor: pointer; margin-top: 20px; width: 100%; }
#review-list { text-align: left; background: #fff3cd; padding: 15px; border-radius: 8px; margin-top: 20px; font-size: 0.9rem; max-height: 180px; overflow-y: auto; }

@keyframes fadeIn { from {opacity:0; transform:translateY(10px);} to {opacity:1; transform:translateY(0);} }
